<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aprende javascript</title>
    
    <link rel="stylesheet" href="../00-css/style.css" type="text/css">
    <link rel="stylesheet" href="../00-css/style-window.css" type="text/css">
    <link rel="stylesheet" href="./css/style.css" type="text/css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Audiowide&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
        rel="stylesheet">

    <script defer src="../00-js/hora.js"></script>
    <script defer src="../00-js/informacion-adicional.js"></script>
    <!--Elige uno u otro de los scripts inferiores si quieres trabajar solo con Local o con Local+Session-->
    <!-- <script defer src="../00-js/Con-LocalStorage/menu.js"></script> -->
    <!-- <script defer src="../00-js/Con-SesionStorage/menu.js"></script>-->

    <script defer src="../00-js/Con-indexDB/indexdb.js"></script>
    <script defer src="../00-js/Con-indexDB/menu.js"></script>
    <script defer src="../00-js/Con-indexDB/userExists.js"></script>
    <script defer src="./js/showUsers.js"></script>
    <script defer src="./js/borrarConfirmacion.js"></script>
    <script defer src="./js/actualizar.js"></script>
    <script defer src="./js/usersAPIcall.js"></script>
    <script defer src="./js/usersAPIresponse.js"></script>
    <script defer src="./js/script.js"></script>

</head>

<body>
    <header>
        <ul>
            <li>Learn</li>
            <li>&</li>
            <li>Play</li>
        </ul>
        <h2>Aprende javascript</h2>
        <div id="date-time"></div>
    </header>
    <nav>
        <div class="icono-escritorio carpeta-nav"><a href="../referencias/index.html"><img src="../img/carpetaCerrada.png" id="fotocarpeta"><p>Referencias</p></a></div>
        <div class="icono-escritorio carpeta-nav privado"><a href="../ejercicios/index.html"><img src="../img/carpetaCerrada.png"><p>Ejercicios</p></a></div>
        <div class="icono-escritorio registro-nav publico"><a href="../registro/index.html"><img src="../img/registro.png"><p>Registro</p></a></div>
        <div class="icono-escritorio login-nav publico"><a href="../logIn-logOut/index.html"><img src="../img/login.png"><p>LogIn</p></a></div>
        <div class="icono-escritorio user-nav privado"><a href="#" id="enlaceUsuario"><img src="../img/usuarioDefecto.png" id="fotoUsuario"><p id="usuario"></p></a></div>
        <div class="icono-escritorio logout-nav privado" id="logout"><a href="../index.html" id="enlaceLogout"><img src="../img/logout.png"><p>Cerrar Sesion</p></a></div>
        <div class="icono-escritorio admin"><a href="../crudUsuarios/index.html"><img src="../img/exe.png"><p>Administrar</p></a></div>
        <div class="icono-escritorio privado"><a href="../dragon/index.html"><img src="../img/exe2.png"><p>Dragon Ball Finder</p></a></div>


        
    </nav>
    <main>
        <div id="window-crud">
            <div id="window-header-crud">
                <p>Admistrar.exe</p>
                <a href="../index.html"><img src="../img/cierre.png" class="icono-carpeta cierre"></a>
            </div>
            <div id="window-main-crud">
                <p id="mensaje"></p>
                <div id="botones-crud">
                    <button id="add" class="btn-crud">Añadir</button>
                    <button id="addAPI" class="btn-crud">Añadir desde API</button>
                    <!-- <button class="btn-crud">Borrar multiples</button> -->
                     <input type="text" name="search" id="search" placeholder="buscar" class="label-search">
                     <button id="btnSearch" class="btn-crud">Buscar</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Usuario</th>
                            <th>Nombre</th>
                            <th>Foto</th>
                            <th>Tipo usuario</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="cuerpo-tabla">
                    </tbody>
                </table>
                <div id="popup-add"><!--Con class=cierre-popup y href=#-->
                    <div id="popup-header">
                        <p>Guardar</p>
                        <a href="./index.html" id="cierre"><img src="../img/cierre.png" class="icono-carpeta cierre"></a>
                    </div>
                    <div id="popup-form">
                        <form id="popup-form-add">
                            <label>Usuario: </label>
                            <input type="text"  name="usuario" id="usuarioForm" autofocus required>
                            <label>Nombre y apellidos: </label>
                            <input type="text"  name="nombre" id="nombre" required>
                            <label>Contraseña: </label>
                            <input type="password"  name="password" id="password" required>
                            <label>Foto perfil: </label>
                            <input type="file" name="fotoPerfil" id="fotoPerfil" accept="image/*">
                            <label>¿Es admin?</label>
                            <input type="checkbox" name="role" id="role">
                        </form>
                        <button class="btn" id="registrar">Registrar</button>
                        <p id="resultado">Mensaje:</p>
                    </div>
                </div>
                <div id="popup-update">
                    <div id="popup-header">
                        <p>Actualizar</p>
                        <a href="../crudUsuarios/index.html"><img src="../img/cierre.png" class="icono-carpeta cierre"></a>
                    </div>
                    <div id="popup-form-upd">
                        <form id="popup-form-update">
                            <label>Usuario: </label>
                            <input type="text"  name="usuario" id="usuarioUpdate" autofocus required>
                            <label>Nombre y apellidos: </label>
                            <input type="text"  name="nombre" id="nombreUpdate" required>
                            <label>Contraseña: </label>
                            <input type="password"  name="password" id="passwordUpdate" required>
                            <label>Foto perfil: </label>
                            <input type="file" name="fotoPerfil" id="fotoPerfilUpdate" accept="image/*">
                            <label>Administrador</label>
                            <input type="checkbox" name="role" id="roleUpdate">
                        </form>
                        <button class="btn" id="updateForm">Actualizar</button>
                        <div id="preview"><img src="" id="imgPreview"></div>
                        <p id="resultado2">Mensaje:</p>
                    </div>
                </div>
                <div id="popup-delete">
                    <div id="popup-header">
                        <p>Confirmar borrado</p>
                        <a href="../crudUsuarios/index.html"><img src="../img/cierre.png" class="icono-carpeta cierre"></a>
                    </div>
                    <div id="popup-delete-main">
                        <p id="userId"></p>
                        <p>Esta accion no se puede deshacer</p>
                        <button class="btn" id="deleteConfirm">Borrar</button>
                        <p id="resultado3"></p>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer>
        <a href="../index.html" id="inicio">Inicio</a>
        <div id="autor">by Miriam Diaz Plaza</div>
        <div id="sistemaOperativo">AT-SO v1.0</div>
    </footer>

    <div id="detalle"></div>


</body>

</html>